%!PS
%%Version: 3.3.2
%%DocumentFonts: (atend)
%%Pages: (atend)
%%EndComments
%
% Version 3.3.2 prologue for troff files.
%

/#copies 1 store
/aspectratio 1 def
/formsperpage 1 def
/landscape false def
/linewidth .3 def
/magnification 1 def
/margin 0 def
/orientation 0 def
/resolution 720 def
/rotation 1 def
/xoffset 0 def
/yoffset 0 def

/roundpage true def
/useclippath true def
/pagebbox [0 0 612 792] def

/R  /Times-Roman def
/I  /Times-Italic def
/B  /Times-Bold def
/BI /Times-BoldItalic def
/H  /Helvetica def
/HI /Helvetica-Oblique def
/HB /Helvetica-Bold def
/HX /Helvetica-BoldOblique def
/CW /Courier def
/CO /Courier def
/CI /Courier-Oblique def
/CB /Courier-Bold def
/CX /Courier-BoldOblique def
/PA /Palatino-Roman def
/PI /Palatino-Italic def
/PB /Palatino-Bold def
/PX /Palatino-BoldItalic def
/Hr /Helvetica-Narrow def
/Hi /Helvetica-Narrow-Oblique def
/Hb /Helvetica-Narrow-Bold def
/Hx /Helvetica-Narrow-BoldOblique def
/KR /Bookman-Light def
/KI /Bookman-LightItalic def
/KB /Bookman-Demi def
/KX /Bookman-DemiItalic def
/AR /AvantGarde-Book def
/AI /AvantGarde-BookOblique def
/AB /AvantGarde-Demi def
/AX /AvantGarde-DemiOblique def
/NR /NewCenturySchlbk-Roman def
/NI /NewCenturySchlbk-Italic def
/NB /NewCenturySchlbk-Bold def
/NX /NewCenturySchlbk-BoldItalic def
/ZD /ZapfDingbats def
/ZI /ZapfChancery-MediumItalic def
/S  /S def
/S1 /S1 def
/GR /Symbol def

/inch {72 mul} bind def
/min {2 copy gt {exch} if pop} bind def

/show {show} bind def		% so later references don't bind
/widthshow {widthshow} bind def
/stringwidth {stringwidth} bind def

/setup {
	counttomark 2 idiv {def} repeat pop

	landscape {/orientation 90 orientation add def} if
	/scaling 72 resolution div def
	linewidth setlinewidth
	1 setlinecap

	pagedimensions
	xcenter ycenter translate
	orientation rotation mul rotate
	width 2 div neg height 2 div translate
	xoffset inch yoffset inch neg translate
	margin 2 div dup neg translate
	magnification dup aspectratio mul scale
	scaling scaling scale

	addmetrics
	0 0 moveto
} def

/pagedimensions {
	useclippath userdict /gotpagebbox known not and {
		/pagebbox [clippath pathbbox newpath] def
		roundpage currentdict /roundpagebbox known and {roundpagebbox} if
	} if
	pagebbox aload pop
	4 -1 roll exch 4 1 roll 4 copy
	landscape {4 2 roll} if
	sub /width exch def
	sub /height exch def
	add 2 div /xcenter exch def
	add 2 div /ycenter exch def
	userdict /gotpagebbox true put
} def

/addmetrics {
	/Symbol /S null Sdefs cf
	/Times-Roman /S1 StandardEncoding dup length array copy S1defs cf
} def

/pagesetup {
	/page exch def
	currentdict /pagedict known currentdict page known and {
		page load pagedict exch get cvx exec
	} if
} def

/decodingdefs [
	{counttomark 2 idiv {y moveto show} repeat}
	{neg /y exch def counttomark 2 idiv {y moveto show} repeat}
	{neg moveto {2 index stringwidth pop sub exch div 0 32 4 -1 roll widthshow} repeat}
	{neg moveto {spacewidth sub 0.0 32 4 -1 roll widthshow} repeat}
	{counttomark 2 idiv {y moveto show} repeat}
	{neg setfunnytext}
] def

/setdecoding {/t decodingdefs 3 -1 roll get bind def} bind def

/w {neg moveto show} bind def
/m {neg dup /y exch def moveto} bind def
/done {/lastpage where {pop lastpage} if} def

/f {
	dup /font exch def findfont exch
	dup /ptsize exch def scaling div dup /size exch def scalefont setfont
	linewidth ptsize mul scaling 10 mul div setlinewidth
	/spacewidth ( ) stringwidth pop def
} bind def

/changefont {
	/fontheight exch def
	/fontslant exch def
	currentfont [
		1 0
		fontheight ptsize div fontslant sin mul fontslant cos div
		fontheight ptsize div
		0 0
	] makefont setfont
} bind def

/sf {f} bind def

/cf {
	dup length 2 idiv
	/entries exch def
	/chtab exch def
	/newencoding exch def
	/newfont exch def

	findfont dup length 1 add dict
	/newdict exch def
	{1 index /FID ne {newdict 3 1 roll put}{pop pop} ifelse} forall

	newencoding type /arraytype eq {newdict /Encoding newencoding put} if

	newdict /Metrics entries dict put
	newdict /Metrics get
	begin
		chtab aload pop
		1 1 entries {pop def} for
		newfont newdict definefont pop
	end
} bind def

%
% A few arrays used to adjust reference points and character widths in some
% of the printer resident fonts. If square roots are too high try changing
% the lines describing /radical and /radicalex to,
%
%	/radical	[0 -75 550 0]
%	/radicalex	[-50 -75 500 0]
%
% Move braceleftbt a bit - default PostScript character is off a bit.
%

/Sdefs [
	/bracketlefttp		[201 500]
	/bracketleftbt		[201 500]
	/bracketrighttp		[-81 380]
	/bracketrightbt		[-83 380]
	/braceleftbt		[203 490]
	/bracketrightex		[220 -125 500 0]
	/radical		[0 0 550 0]
	/radicalex		[-50 0 500 0]
	/parenleftex		[-20 -170 0 0]
	/integral		[100 -50 500 0]
	/infinity		[10 -75 730 0]
] def

/S1defs [
	/underscore		[0 80 500 0]
	/endash			[7 90 650 0]
] def
%
% Tries to round clipping path dimensions, as stored in array pagebbox, so they
% match one of the known sizes in the papersizes array. Lower left coordinates
% are always set to 0.
%

/roundpagebbox {
    7 dict begin
	/papersizes [8.5 inch 11 inch 14 inch 17 inch] def

	/mappapersize {
		/val exch def
		/slop .5 inch def
		/diff slop def
		/j 0 def
		0 1 papersizes length 1 sub {
			/i exch def
			papersizes i get val sub abs
			dup diff le {/diff exch def /j i def} {pop} ifelse
		} for
		diff slop lt {papersizes j get} {val} ifelse
	} def

	pagebbox 0 0 put
	pagebbox 1 0 put
	pagebbox dup 2 get mappapersize 2 exch put
	pagebbox dup 3 get mappapersize 3 exch put
    end
} bind def

%%EndProlog
%%BeginSetup
mark
/linewidth 0.5 def
/#copies 1 store
/landscape false def
/resolution 720 def
%
% Encoding vector and redefinition of findfont for the ISO Latin1 standard.
% The 18 characters missing from ROM based fonts on older printers are noted
% below.
%

/ISOLatin1Encoding [
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/space
	/exclam
	/quotedbl
	/numbersign
	/dollar
	/percent
	/ampersand
	/quoteright
	/parenleft
	/parenright
	/asterisk
	/plus
	/comma
	/minus
	/period
	/slash
	/zero
	/one
	/two
	/three
	/four
	/five
	/six
	/seven
	/eight
	/nine
	/colon
	/semicolon
	/less
	/equal
	/greater
	/question
	/at
	/A
	/B
	/C
	/D
	/E
	/F
	/G
	/H
	/I
	/J
	/K
	/L
	/M
	/N
	/O
	/P
	/Q
	/R
	/S
	/T
	/U
	/V
	/W
	/X
	/Y
	/Z
	/bracketleft
	/backslash
	/bracketright
	/asciicircum
	/underscore
	/quoteleft
	/a
	/b
	/c
	/d
	/e
	/f
	/g
	/h
	/i
	/j
	/k
	/l
	/m
	/n
	/o
	/p
	/q
	/r
	/s
	/t
	/u
	/v
	/w
	/x
	/y
	/z
	/braceleft
	/bar
	/braceright
	/asciitilde
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/dotlessi
	/grave
	/acute
	/circumflex
	/tilde
	/macron
	/breve
	/dotaccent
	/dieresis
	/.notdef
	/ring
	/cedilla
	/.notdef
	/hungarumlaut
	/ogonek
	/caron
	/space
	/exclamdown
	/cent
	/sterling
	/currency
	/yen
	/brokenbar		% missing
	/section
	/dieresis
	/copyright
	/ordfeminine
	/guillemotleft
	/logicalnot
	/hyphen
	/registered
	/macron
	/degree			% missing
	/plusminus		% missing
	/twosuperior		% missing
	/threesuperior		% missing
	/acute
	/mu			% missing
	/paragraph
	/periodcentered
	/cedilla
	/onesuperior		% missing
	/ordmasculine
	/guillemotright
	/onequarter		% missing
	/onehalf		% missing
	/threequarters		% missing
	/questiondown
	/Agrave
	/Aacute
	/Acircumflex
	/Atilde
	/Adieresis
	/Aring
	/AE
	/Ccedilla
	/Egrave
	/Eacute
	/Ecircumflex
	/Edieresis
	/Igrave
	/Iacute
	/Icircumflex
	/Idieresis
	/Eth			% missing
	/Ntilde
	/Ograve
	/Oacute
	/Ocircumflex
	/Otilde
	/Odieresis
	/multiply		% missing
	/Oslash
	/Ugrave
	/Uacute
	/Ucircumflex
	/Udieresis
	/Yacute			% missing
	/Thorn			% missing
	/germandbls
	/agrave
	/aacute
	/acircumflex
	/atilde
	/adieresis
	/aring
	/ae
	/ccedilla
	/egrave
	/eacute
	/ecircumflex
	/edieresis
	/igrave
	/iacute
	/icircumflex
	/idieresis
	/eth			% missing
	/ntilde
	/ograve
	/oacute
	/ocircumflex
	/otilde
	/odieresis
	/divide			% missing
	/oslash
	/ugrave
	/uacute
	/ucircumflex
	/udieresis
	/yacute			% missing
	/thorn			% missing
	/ydieresis
] def

/NewFontDirectory FontDirectory maxlength dict def

%
% Apparently no guarantee findfont is defined in systemdict so the obvious
%
%	systemdict /findfont get exec
%
% can generate an error. So far the only exception is a VT600 (version 48.0).
%

userdict /@RealFindfont known not {
	userdict begin
		/@RealFindfont systemdict begin /findfont load end def
	end
} if

/findfont {
	dup NewFontDirectory exch known not {
		dup
		%dup systemdict /findfont get exec	% not always in systemdict
		dup userdict /@RealFindfont get exec
		dup /Encoding get StandardEncoding eq {
			dup length dict begin
				{1 index /FID ne {def}{pop pop} ifelse} forall
				/Encoding ISOLatin1Encoding def
				currentdict
			end
			/DummyFontName exch definefont
		} if
		NewFontDirectory 3 1 roll put
	} if
	NewFontDirectory exch get
} bind def

setup
2 setdecoding
%%EndSetup
%%Page: 1 1
/saveobj save def
mark
1 pagesetup
12 B f
(Structural Regular Expressions)2 1622 1 2069 1230 t
10 I f
(Rob Pike)1 363 1 2698 1470 t
10 R f
(AT&T Bell Laboratories)2 993 1 2383 1650 t
(Murray Hill, New Jersey 07974)4 1267 1 2246 1770 t
10 I f
(ABSTRACT)2643 2150 w
10 R f
(The current)1 465 1 1330 2410 t
9 R f
(UNIX)1821 2410 w
10 R f
( the built\255in concept of a)5 999(\256 text processing tools are weakened by)6 1635 2 2046 2410 t
( describe the `shape' of files when the typical)8 1908( is a simple notation that can)6 1222(line. There)1 470 3 1080 2530 t
( regular)1 316( Using)1 298( is regular expressions.)3 942( notation)1 361( That)1 241(array\255of\255lines picture is inadequate.)3 1442 6 1080 2650 t
( files has interesting)3 841(expressions to describe the structure in addition to the contents of)10 2759 2 1080 2770 t
(applications, and yields elegant methods for dealing with some problems the current tools)12 3600 1 1080 2890 t
( are composed, the result is)5 1157( operations using these expressions)4 1464( When)1 303(handle clumsily.)1 676 4 1080 3010 t
(reminiscent of shell pipelines.)3 1199 1 1080 3130 t
10 B f
(The Peter\255On\255Silicon Problem)2 1299 1 720 3490 t
10 R f
( model,)1 301(In the traditional)2 666 2 970 3646 t
9 R f
(UNIX)1961 3646 w
10 R f
(text files are arrays of lines, and all the familiar tools)10 2120 1 2212 3646 t
10 S1 f
(\320)4358 3646 w
10 CW f
(grep)4484 3646 w
10 R f
(,)4724 3646 w
10 CW f
(sort)4775 3646 w
10 R f
(,)5015 3646 w
10 CW f
(awk)720 3766 w
10 R f
(, etc.)1 197 1 900 3766 t
10 S1 f
(\320)1128 3766 w
10 R f
( of)1 113( output)1 287( The)1 211(expect arrays of lines as input.)5 1244 4 1259 3766 t
10 CW f
(ls)3144 3766 w
10 R f
(\(regardless of options\) is a list of files, one)8 1746 1 3294 3766 t
(per line, that may be selected by tools such as)9 1825 1 720 3886 t
10 CW f
(grep)2570 3886 w
10 R f
(:)2810 3886 w
10 CW f
(ls \255l /usr/ken/bin | grep 'rws.*root')5 2220 1 1080 4066 t
10 R f
(\(I assume that the reader is familiar with the)8 1803 1 720 4246 t
9 R f
(UNIX)2551 4246 w
10 R f
( model is powerful, but it is also pervasive,)8 1769(tools.\) The)1 464 2 2807 4246 t
( Many)1 298(sometimes overly so.)2 877 2 720 4366 t
9 R f
(UNIX)1933 4366 w
10 R f
( more general, and more useful, if they could be)9 2041(programs would be)2 801 2 2198 4366 t
( example,)1 400( For)1 201(applied to arbitrarily structured input.)4 1549 3 720 4486 t
10 CW f
(diff)2907 4486 w
10 R f
( C)1 105(could in principle report differences at the)6 1751 2 3184 4486 t
( if the interesting quantum of information isn't a line, most of)11 2537( But)1 202( level.)1 251(function level instead of the line)5 1330 4 720 4606 t
(the tools \(including)2 804 1 720 4726 t
10 CW f
(diff)1562 4726 w
10 R f
( solution so the line\255)4 873( perverting the)2 608( Worse,)1 348(\) don't help, or at best do poorly.)7 1409 4 1802 4726 t
(oriented tools can implement it often obscures the original problem.)9 2714 1 720 4846 t
( consider the problem of turning)5 1320(To see how a line oriented view of text can introduce complication,)11 2750 2 970 5002 t
( input is an array of blank and non\255blank characters, like this:)11 2451( The)1 205(Peter into silicon.)2 703 3 720 5122 t
10 CW f
(#######)1320 5252 w
(#########)1260 5322 w
(#### #####)1 660 1 1200 5392 t
( #)1 180(#### ####)1 720 2 1140 5462 t
(#### #####)1 840 1 1140 5532 t
(#### ###)1 840 1 1080 5602 t
(######## #####)1 960 1 1080 5672 t
(#### #########)1 840 1 1080 5742 t
( ####)1 300( #)1 180(#### #)1 360 3 1080 5812 t
( ##)1 300( ###)1 300(## #)1 240 3 1080 5882 t
( ###)1 300(### #)1 480 2 1080 5952 t
(### ##)1 540 1 1080 6022 t
(## #)1 360 1 1140 6092 t
(# ####)1 480 1 1200 6162 t
(# #)1 180 1 1200 6232 t
(## # ##)2 660 1 1080 6302 t
10 R f
(The output is to be statements in a language for laying out integrated circuits:)13 3094 1 720 6482 t
10 CW f
(rect minx miny maxx maxy)4 1440 1 1080 6662 t
10 R f
( simplify the problem slightly,)4 1247( To)1 169(The statements encode where the non\255blank characters are in the input.)10 2904 3 720 6842 t
(the coordinate system has)3 1032 1 720 6962 t
10 I f
(x)1778 6962 w
10 R f
(positive to the right and)4 954 1 1848 6962 t
10 I f
(y)2828 6962 w
10 R f
( output need not be efficient in its)7 1346( The)1 206(positive down.)1 590 3 2898 6962 t
(use of rectangles.)2 723 1 720 7082 t
10 CW f
(Awk)1507 7082 w
10 R f
( which is a mixture of text processing and)8 1790(is the obvious language for the task,)6 1524 2 1726 7082 t
( the input is an array of lines, as)8 1345( Since)1 281(geometry, hence arithmetic.)2 1132 3 720 7202 t
10 CW f
(awk)3511 7202 w
10 R f
(expects, the job should be fairly)5 1316 1 3724 7202 t
cleartomark
showpage
saveobj restore
%%EndPage: 1 1
%%Page: 2 2
/saveobj save def
mark
2 pagesetup
10 R f
(\255 2 \255)2 166 1 2797 480 t
( is an)2 211( Here)1 243(easy, and in fact it is.)5 846 3 720 840 t
10 CW f
(awk)2045 840 w
10 R f
(program for the job:)3 807 1 2250 840 t
10 CW f
(BEGIN{)1080 1020 w
(y=1)1330 1140 w
(})1080 1260 w
(/^/{)1080 1380 w
(for\(x=1; x<=length\($0\); x++\))2 1680 1 1330 1500 t
(if\(substr\($0, x, 1\)=="#"\))2 1500 1 1580 1620 t
(print "rect", x, y, x+1, y+1)5 1680 1 1830 1740 t
(y++)1330 1860 w
(})1080 1980 w
10 R f
(Although it is certainly easy to write, there is something odd about this program: the line\255driven nature of)17 4320 1 720 2160 t
10 CW f
(awk)720 2280 w
10 R f
(results in only one obvious advantage)5 1512 1 926 2280 t
10 S1 f
(\320)2464 2280 w
10 R f
(the ease of tracking)3 781 1 2590 2280 t
10 CW f
(y)3397 2280 w
10 R f
( breaking out the pieces of)5 1056( task of)2 296(. The)1 231 3 3457 2280 t
( simple procedural code that does not use any advanced technology such as)12 3077(the line is left to explicit code,)6 1243 2 720 2400 t
( peculiarity becomes more evident if the problem is)8 2234( This)1 250( manipulation.)1 600(regular expressions for string)3 1236 4 720 2520 t
(rephrased to demand that each horizontal run of rectangles be folded into a single rectangle:)14 3669 1 720 2640 t
10 CW f
(BEGIN{)1080 2820 w
(y=1)1330 2940 w
(})1080 3060 w
(/^/{)1080 3180 w
(for\(x=1; x<=length\($0\); x++\))2 1680 1 1330 3300 t
(if\(substr\($0, x, 1\)=="#"\){)2 1560 1 1580 3420 t
(x0=x;)1830 3540 w
(while\(++x<=length\($0\) && substr\($0, x, 1\)=="#"\))4 2820 1 1830 3660 t
(;)2080 3780 w
(print "rect", x0, y, x, y+1)5 1620 1 1830 3900 t
(})1580 4020 w
(y++)1330 4140 w
(})1080 4260 w
10 R f
( In)1 133(Here a considerable amount of code is being spent to do a job a regular expression could do very simply.)19 4187 2 720 4440 t
(fact, the only regular expression in the program is)8 2044 1 720 4560 t
10 CW f
(^)2796 4560 w
10 R f
( ver\255)1 191( \(Newer)1 354( input.)1 262(, which is almost irrelevant to the)6 1377 4 2856 4560 t
(sions of)1 324 1 720 4680 t
10 CW f
(awk)1079 4680 w
10 R f
(have mechanisms to use regular expressions within actions, but even there the relationship)12 3746 1 1294 4680 t
(between the patterns that match text and the actions that manipulate the text is still too weak.\))16 3743 1 720 4800 t
10 CW f
(Awk's)970 4956 w
10 R f
(patterns)1302 4956 w
10 S1 f
(\320)1650 4956 w
10 R f
( in slashes)2 427(the text)1 304 2 1782 4956 t
10 CW f
(//)2546 4956 w
10 R f
(that select the input on which to run the actions, the pro\255)11 2341 1 2699 4956 t
( braces)1 280(grams in the)2 498 2 720 5076 t
10 CW f
({})1524 5076 w
10 S1 f
(\320)1670 5076 w
10 R f
( But)1 196(pass to the actions the entire line containing the text matched by the pattern.)13 3048 2 1796 5076 t
( that)1 176( Imagine)1 378( can only be a line.)5 759(much of the power of this idea is being wasted, since the matched text)13 2801 4 720 5196 t
10 CW f
(awk)4860 5196 w
10 R f
( so the patterns instead passed precisely the text they matched, with no implicit line bound\255)15 3761(were changed)1 559 2 720 5316 t
( first program could then be written:)6 1448(aries. Our)1 418 2 720 5436 t
cleartomark
showpage
saveobj restore
%%EndPage: 2 2
%%Page: 3 3
/saveobj save def
mark
3 pagesetup
10 R f
(\255 3 \255)2 166 1 2797 480 t
10 CW f
(BEGIN{)1080 900 w
(x=1)1330 1020 w
(y=1)1330 1140 w
(})1080 1260 w
(/ /{)1 240 1 1080 1380 t
(x++)1330 1500 w
(})1080 1620 w
(/#/{)1080 1740 w
(print "rect", x, x+1, y, y+1)5 1680 1 1330 1860 t
(x++)1330 1980 w
(})1080 2100 w
(/\\n/{)1080 2220 w
(x=1)1330 2340 w
(y++)1330 2460 w
(})1080 2580 w
10 R f
( regular expressions to break out complete strings of blanks and)10 2606(and the second version could use)5 1342 2 720 2760 t
10 CW f
(#)4699 2760 w
10 R f
('s sim\255)1 281 1 4759 2760 t
(ply:)720 2880 w
10 CW f
(BEGIN{)1080 3060 w
(x=1)1330 3180 w
(y=1)1330 3300 w
(})1080 3420 w
(/ +/{)1 300 1 1080 3540 t
(x+=length\($0\))1330 3660 w
(})1080 3780 w
(/#+/{)1080 3900 w
(print "rect", x, x+length\($0\), y, y+1)5 2220 1 1330 4020 t
(x+=length\($0\))1330 4140 w
(})1080 4260 w
(/\\n/{)1080 4380 w
(x=1)1330 4500 w
(y++)1330 4620 w
(})1080 4740 w
10 R f
( are)1 148(In these programs, regular expressions are being used to do more than just select the input, the way they)18 4172 2 720 4920 t
(used in all the traditional)4 1050 1 720 5040 t
9 R f
(UNIX)1806 5040 w
10 R f
( the expressions are doing a simple parsing \(or at least a)11 2375(tools. Instead,)1 596 2 2069 5040 t
( expressions are called)3 900( Such)1 250(breaking into lexical tokens\) of the input.)6 1651 3 720 5160 t
10 I f
(structural regular expressions)2 1213 1 3547 5160 t
10 R f
(or just)1 254 1 4786 5160 t
10 I f
(structural expressions.)1 911 1 720 5280 t
10 R f
( notably shorter than the originals, but they are conceptually simpler, because)11 3125(These programs are not)3 945 2 970 5436 t
( The)1 208(the structure of the input is expressed in the structure of the programs, rather than in procedural code.)17 4112 2 720 5556 t
( between the patterns and the actions: the patterns select portions of the input)13 3102(labor has been cleanly divided)4 1218 2 720 5676 t
( actions contain no code to disassemble the input.)8 1979( The)1 205(while the actions operate on them.)5 1370 3 720 5796 t
(The lexical analysis generator)3 1233 1 970 5952 t
10 CW f
(lex)2241 5952 w
10 R f
( but its)2 301(uses regular expressions to define the structure of text,)8 2280 2 2459 5952 t
( \(its output must be run through the C)8 1594(implementation is poor, and since it is not an interactive program)10 2726 2 720 6072 t
( conve\255)1 302( even ignoring issues of speed and)6 1400( But)1 200(compiler\) it has largely been forgotten as a day\255to\255day tool.)9 2418 4 720 6192 t
(nience,)720 6312 w
10 CW f
(lex)1041 6312 w
10 R f
( the next)2 364( As)1 171( structural expressions.)2 938(still misses out on one of the most important aspects of)10 2310 4 1257 6312 t
( be nested to describe the structure of a file recursively, with)11 2510(section illustrates, structural expressions can)4 1810 2 720 6432 t
(surprising results.)1 711 1 720 6552 t
10 B f
(Interactive Text Editing)2 1027 1 720 6792 t
10 R f
(It is ironic that)3 589 1 970 6948 t
9 R f
(UNIX)1583 6948 w
10 R f
( typ\255)1 188(files are uninterpreted byte streams, yet the style of programming that most)11 3018 2 1834 6948 t
(ifies)720 7068 w
9 R f
(UNIX)925 7068 w
10 R f
( imposed on files)3 713(has a fairly rigid structure)4 1071 2 1185 7068 t
10 S1 f
(\320)3003 7068 w
10 R f
( silent limits)2 514( \(The)1 247(arrays of not\255too\255long lines.)3 1142 3 3137 7068 t
( the)1 153( Although)1 434( line lengths by most tools can be frustrating.\))8 1883(placed on)1 390 4 720 7188 t
10 CW f
(awk)3611 7188 w
10 R f
(variant introduced above does)3 1218 1 3822 7188 t
(not exist, there is an interactive text editor,)7 1706 1 720 7308 t
10 CW f
(sam)2451 7308 w
10 R f
(, that treats its files as simple byte streams.)8 1710 1 2631 7308 t
cleartomark
showpage
saveobj restore
%%EndPage: 3 3
%%Page: 4 4
/saveobj save def
mark
4 pagesetup
10 R f
(\255 4 \255)2 166 1 2797 480 t
(The)970 840 w
10 CW f
(sam)1153 840 w
10 R f
(command language looks much like that of)6 1744 1 1361 840 t
10 CW f
(ed)3133 840 w
10 R f
(, but the details are different because)6 1483 1 3253 840 t
10 CW f
(sam)4764 840 w
10 R f
(is)4973 840 w
( example, the simple address)4 1151( For)1 189(not line\255oriented.)1 688 3 720 960 t
10 CW f
(/string/)1080 1140 w
10 R f
( there are short\255)3 646( Although)1 434( not the next line containing ``string''.)6 1565(matches the next occurrence of ``string'',)5 1675 4 720 1320 t
(hands to simplify common actions, the idea of a line must be stated explicitly in)14 3196 1 720 1440 t
10 CW f
(sam)3941 1440 w
10 R f
(.)4121 1440 w
10 CW f
(Sam)970 1596 w
10 R f
(has the same simple text addition and modification commands)8 2509 1 1177 1596 t
10 CW f
(ed)3713 1596 w
10 R f
(has:)3860 1596 w
10 CW f
(a)4048 1596 w
10 R f
(adds text after the cur\255)4 905 1 4135 1596 t
(rent location,)1 527 1 720 1716 t
10 CW f
(i)1272 1716 w
10 R f
(adds text before it,)3 743 1 1357 1716 t
10 CW f
(d)2125 1716 w
10 R f
(deletes it, and)2 552 1 2210 1716 t
10 CW f
(c)2787 1716 w
10 R f
(replaces it.)1 432 1 2872 1716 t
(Unlike in)1 376 1 970 1872 t
10 CW f
(ed)1372 1872 w
10 R f
(, the current location in)4 933 1 1492 1872 t
10 CW f
(sam)2451 1872 w
10 R f
( simplifies some)2 660( This)1 230( \(and usually isn't\) a line.)5 1031(need not be)2 462 4 2657 1872 t
( example,)1 397( For)1 198(operations considerably.)1 985 3 720 1992 t
10 CW f
(ed)2334 1992 w
10 R f
( a file.)2 268(has several ways to delete all occurrences of a string in)10 2284 2 2488 1992 t
(One method is)2 583 1 720 2112 t
10 CW f
(g/string/ s///g)1 900 1 1080 2292 t
10 R f
( substitute command is used to delete text within a line, while a delete command is)15 3369(It is symptomatic that a)4 951 2 720 2472 t
( deleted contains a newline, this technique doesn't work.)8 2271( if the string to be)5 718( Also,)1 266(used to delete whole lines.)4 1065 4 720 2592 t
( just an array of characters, but some characters are more equal than others.\))13 3310(\(A file is)2 395 2 720 2712 t
10 CW f
(Sam)4496 2712 w
10 R f
(is more)1 318 1 4722 2712 t
(forthright:)720 2832 w
10 CW f
(x/string/d)1080 3012 w
10 R f
(The)720 3192 w
10 CW f
(x)905 3192 w
10 R f
( runs the subsequent command)4 1256(\(`extract'\) command searches for each occurrence of the pattern, and)9 2789 2 995 3192 t
( that this is subtly different)5 1075( Note)1 244( \(not to the line containing the match\).)7 1532(with the current text set to the match)7 1469 4 720 3312 t
(from)720 3432 w
10 CW f
(ed)940 3432 w
10 R f
('s)1060 3432 w
10 CW f
(g)1159 3432 w
10 R f
(command:)1246 3432 w
10 CW f
(x)1695 3432 w
10 R f
(extracts the complete text for the command,)6 1767 1 1782 3432 t
10 CW f
(g)3576 3432 w
10 R f
( is also)2 282( There)1 284(merely selects lines.)2 811 3 3663 3432 t
(a complement to)2 666 1 720 3552 t
10 CW f
(x)1411 3552 w
10 R f
(, called)1 288 1 1471 3552 t
10 CW f
(y)1784 3552 w
10 R f
(, that extracts the pieces)4 956 1 1844 3552 t
10 I f
(between)2825 3552 w
10 R f
(the matches of the pattern.)4 1056 1 3177 3552 t
(The)970 3708 w
10 CW f
(x)1151 3708 w
10 R f
(command is a loop, and)4 956 1 1237 3708 t
10 CW f
(sam)2220 3708 w
10 R f
(has a corresponding conditional command, called)5 1990 1 2427 3708 t
10 CW f
(g)4444 3708 w
10 R f
(\(unrelated to)1 509 1 4531 3708 t
10 CW f
(ed)720 3828 w
10 R f
('s)840 3828 w
10 CW f
(g)937 3828 w
10 R f
(\):)997 3828 w
10 CW f
(g/pattern/command)1080 4008 w
10 R f
( that it does not loop, and it does not change)10 1783( Note)1 246( matches the pattern.)3 832(runs the command if the current text)6 1459 4 720 4188 t
( lines con\255)2 424( the command to print all)5 1033( Hence)1 309(the current text; it merely selects whether a command will run.)10 2554 4 720 4308 t
(taining a string is)3 692 1 720 4428 t
10 CW f
(x/.*\\n/ g/string/p)1 1080 1 1080 4608 t
10 S1 f
(\320)720 4788 w
10 R f
( reverse conditional is)3 891( The)1 209( contains the string.)3 795(extract all the lines, and print each one that)8 1740 4 848 4788 t
10 CW f
(v)4512 4788 w
10 R f
(, so to print)3 468 1 4572 4788 t
(all lines containing `rob' but not `robot':)6 1621 1 720 4908 t
10 CW f
(x/.*\\n/ g/rob/ v/robot/p)2 1440 1 1080 5088 t
10 R f
(A more dramatic example is to capitalize all occurrences of words `i':)11 2790 1 720 5268 t
10 CW f
(x/[A\255Za\255z]+/ g/i/ v/../ c/I/)3 1680 1 1080 5448 t
10 S1 f
(\320)720 5628 w
10 R f
( more characters, and change the)5 1316(extract all the words, find those that contain `i', reject those with two or)13 2878 2 846 5628 t
( people have overcome the dif\255)5 1253( Some)1 282(string to `I' \(borrowing a little syntax from the substitute command\).)10 2785 3 720 5748 t
( expressions,)1 530(ficulty of selecting words or identifiers using regular expressions by adding notation to the)13 3790 2 720 5868 t
( the precise definition of `identifier' is immutable in the implementation.)10 3006(which has the disadvantage that)4 1314 2 720 5988 t
(With)720 6108 w
10 CW f
(sam)945 6108 w
10 R f
(, the definition is part of the program and easy to change, although more long\255winded.)14 3442 1 1125 6108 t
(The program to capitalize `i's should be writable as)8 2057 1 970 6264 t
10 CW f
(x/[A\255Za\255z]+/ g/^i$/ c/I/)2 1440 1 1080 6444 t
10 R f
(That is, the definition of)4 977 1 720 6624 t
10 CW f
(^)1724 6624 w
10 R f
(and)1811 6624 w
10 CW f
($)1982 6624 w
10 R f
( compatibility and because of)4 1188( For)1 192( input.)1 259(should reflect the structure of the)5 1332 4 2069 6624 t
(some problems in the implementation, however,)5 1929 1 720 6744 t
10 CW f
(^)2674 6744 w
10 R f
(and)2759 6744 w
10 CW f
($)2928 6744 w
10 R f
(in)3013 6744 w
10 CW f
(sam)3116 6744 w
10 R f
(always match line boundaries.)3 1209 1 3321 6744 t
(In)970 6900 w
10 CW f
(ed)1078 6900 w
10 R f
( each global is still)4 754(, it would not be very useful to nest global commands because the `output' of)14 3088 2 1198 6900 t
( However,)1 445(a line.)1 249 2 720 7020 t
10 CW f
(sam)1444 7020 w
10 R f
( benefit comes from separating)4 1256( \(This)1 266('s extract commands can be nested effectively.)6 1894 3 1624 7020 t
( problem of changing all occurrences of the variable)8 2131( the)1 152( Consider)1 416(the notions of looping and matching.\))5 1530 4 720 7140 t
10 CW f
(n)4980 7140 w
10 R f
(in a C program to some other name, say)8 1595 1 720 7260 t
10 CW f
(num)2340 7260 w
10 R f
( method above will work)4 999(. The)1 230 2 2520 7260 t
10 S1 f
(\320)3774 7260 w
cleartomark
showpage
saveobj restore
%%EndPage: 4 4
%%Page: 5 5
/saveobj save def
mark
5 pagesetup
10 R f
(\255 5 \255)2 166 1 2797 480 t
10 CW f
(x/[a\255zA\255Z0\2559]+/ g/n/ v/../ c/num/)3 1980 1 1080 900 t
10 S1 f
(\320)720 1080 w
10 R f
( are places in C where the `identifier')7 1508(except that there)2 663 2 847 1080 t
10 CW f
(n)3046 1080 w
10 R f
(occurs but not as a variable, in particular as the)9 1906 1 3134 1080 t
(constant)720 1200 w
10 CW f
(\\n)1081 1200 w
10 R f
( cou\255)1 204( prevent incorrect changes, the command can be prefixed by a)10 2503( To)1 164(in characters or strings.)3 940 4 1229 1200 t
(ple of)1 230 1 720 1320 t
10 CW f
(y)975 1320 w
10 R f
(commands to weed out characters and strings:)6 1841 1 1060 1320 t
10 CW f
(y/".*"/ y/'.*'/ x/[a\255zA\255Z0\2559]+/ g/n/ v/../ c/num/)5 2940 1 1080 1500 t
10 R f
(This example illustrates the power of composing extractions and conditionals, but it is not artificial: it)15 4070 1 970 1716 t
(was encountered when editing a real program \(in fact,)8 2192 1 720 1836 t
10 CW f
(sam)2942 1836 w
10 R f
( with shell pipe\255)3 659( is an obvious analogy)4 914(\). There)1 345 3 3122 1836 t
(lines, but these command)3 1019 1 720 1956 t
10 I f
(chains)1765 1956 w
10 R f
(are subtly)1 393 1 2052 1956 t
10 S1 f
(\320)2472 1956 w
10 R f
(and importantly)1 638 1 2599 1956 t
10 S1 f
(\320)3264 1956 w
10 R f
( flows into)2 432( Data)1 240(different from pipelines.)2 977 3 3391 1956 t
( chains, the data flow is implicit:)6 1338( In)1 138( pipeline and emerges transformed from the right end.)8 2194(the left end of a)4 650 4 720 2076 t
( commands are operating on the same data \(except that the last element of the chain may modify the)18 4070(all the)1 250 2 720 2196 t
( is being)2 345( What)1 269( flows through the chain.)4 1008(text\); the complete operation is done in place; and no data actually)11 2698 4 720 2316 t
( in the)2 262(passed from link to link in the chain is a view of the data, until it looks right for the final command)21 4058 2 720 2436 t
( data stays the same, only the structure is modified.)9 2045(chain. The)1 446 2 720 2556 t
10 B f
(More than one line, and less than one line)8 1771 1 720 2796 t
10 R f
(The standard)1 532 1 970 2952 t
9 R f
(UNIX)1539 2952 w
10 R f
(tools have difficulty handling several lines at a time, if they can do so at all.)15 3237 1 1803 2952 t
10 CW f
(Grep)720 3072 w
10 R f
(,)960 3072 w
10 CW f
(sort)1022 3072 w
10 R f
(and)1299 3072 w
10 CW f
(diff)1480 3072 w
10 R f
( if they could operate on larger)6 1296(work on lines only, although it would be useful)8 1987 2 1757 3072 t
( as a)2 197(pieces, such)1 491 2 720 3192 t
10 CW f
(refer)1443 3192 w
10 R f
(database.)1778 3192 w
10 CW f
(awk)2206 3192 w
10 R f
(can be tricked into accepting multiple\255line records, but then the)9 2619 1 2421 3192 t
( sub\255pieces \(typically ordinary lines\) by explicit code.)7 2236(actions must break out the)4 1101 2 720 3312 t
10 CW f
(sed)4119 3312 w
10 R f
(has a unique and)3 704 1 4336 3312 t
(clumsy mechanism for manipulating multiple lines, which few have mastered.)9 3127 1 720 3432 t
( a)1 84( Consider)1 426(Structural expressions make it easy to specify multiple\255line actions.)8 2812 3 970 3588 t
10 CW f
(refer)4332 3588 w
10 R f
(database,)4672 3588 w
( percent sign and)3 685( line of a record begins with a)7 1210( Each)1 252(which has multi\255line records separated by blank lines.)7 2173 4 720 3708 t
( the line:)2 366(a character indicating the type of information on)7 1981 2 720 3828 t
10 CW f
(A)3100 3828 w
10 R f
(for author,)1 429 1 3193 3828 t
10 CW f
(T)3655 3828 w
10 R f
( with)1 211( Staying)1 364(for title, etc.)2 504 3 3748 3828 t
10 CW f
(sam)4860 3828 w
10 R f
(notation, the command to search a)5 1370 1 720 3948 t
10 CW f
(refer)2115 3948 w
10 R f
(database for all papers written by Bimmler is:)7 1828 1 2440 3948 t
10 CW f
(x/\(.+\\n\)+/ g/%A.*Bimmler/p)1 1560 1 1080 4128 t
10 S1 f
(\320)720 4308 w
10 R f
( set of lines containing `Bimm\255)5 1257(break the file into non\255empty sequences of non\255empty lines and print any)11 2937 2 846 4308 t
( be compatible with the other tools, a `)8 1572( \(To)1 198( after `%A'.)2 486(ler' on a line)3 522 4 720 4428 t
10 CW f
(.)3498 4428 w
10 R f
( Except)1 331(' does not match a newline.\))5 1151 2 3558 4428 t
(for the structural expression, this is a regular)7 1836 1 720 4548 t
10 CW f
(grep)2589 4548 w
10 R f
( that)1 184(operation, implying)1 797 2 2862 4548 t
10 CW f
(grep)3877 4548 w
10 R f
(could benefit from an)3 889 1 4151 4548 t
( `stream)1 339( the short term, however, a)5 1147( In)1 149(additional regular expression to define the structure of its input.)9 2685 4 720 4668 t
10 CW f
(sam)720 4788 w
10 R f
(,' analogous to)2 591 1 900 4788 t
10 CW f
(sed,)1516 4788 w
10 R f
(would be convenient, and is currently being implemented.)7 2322 1 1781 4788 t
( example, we can)3 713( For)1 196( search program.)2 681(The ability to compose expressions makes it easy to tune the)10 2480 4 970 4944 t
(select just the)2 544 1 720 5064 t
10 I f
(titles)1289 5064 w
10 R f
(of the papers written by Bimmler by applying another extraction:)9 2605 1 1509 5064 t
10 CW f
(x/\(.+\\n\)+/ g/%A.*Bimmler/ x/.*\\n/ g/%T/p)3 2400 1 1080 5244 t
10 R f
( into individual lines, then prints the lines con\255)8 1912(This program breaks the records with author Bimmler back)8 2408 2 720 5424 t
(taining)720 5544 w
10 CW f
(%T)1023 5544 w
10 R f
(.)1143 5544 w
( examples of multiple\255line components of files that may profitably be extracted,)11 3212(There are many other)3 858 2 970 5700 t
(such as C functions, messages in mail boxes, paragraphs in)9 2415 1 720 5820 t
10 CW f
(troff)3166 5820 w
10 R f
( records in on\255line telephone)4 1162(input and)1 381 2 3497 5820 t
( that, unlike in systems that define file structures)8 1948(books. Note)1 509 2 720 5940 t
10 I f
(a priori)1 310 1 3203 5940 t
10 R f
(, the structures are applied by the pro\255)7 1527 1 3513 5940 t
( sometimes a C)3 644( means the structure can change from application to application;)9 2658( This)1 239(gram, not the data.)3 779 4 720 6060 t
( and sometimes it is just a byte)7 1343(program is an array of functions, but sometimes it is an array of lines,)13 2977 2 720 6180 t
(stream.)720 6300 w
( determine the appearance of their input,)6 1627(If the standard commands admitted a structural expression to)8 2443 2 970 6456 t
( a version of)3 553(many currently annoying problems could become simple: imagine)7 2790 2 720 6576 t
10 CW f
(diff)4107 6576 w
10 R f
(that could print)2 649 1 4391 6576 t
( or functions instead of changed lines, or a)8 1710(changed sentences)1 740 2 720 6696 t
10 CW f
(sort)3197 6696 w
10 R f
(that could sort a)3 647 1 3464 6696 t
10 CW f
(refer)4138 6696 w
10 R f
(database. The)1 575 1 4465 6696 t
(case of)1 281 1 720 6816 t
10 CW f
(sort)1028 6816 w
10 R f
( the input records be described by a struc\255)8 1676(is particularly interesting: not only can the shape of)8 2069 2 1295 6816 t
( current bewildering maze of options to control the)8 2062( The)1 209(tural expression, but also the shape of the sort key.)9 2049 3 720 6936 t
( be largely replaced by a structural expression to extract the key from the record, with)15 3434(sort could in principle)3 886 2 720 7056 t
(multiple expressions to define multiple keys.)5 1794 1 720 7176 t
cleartomark
showpage
saveobj restore
%%EndPage: 5 5
%%Page: 6 6
/saveobj save def
mark
6 pagesetup
10 R f
(\255 6 \255)2 166 1 2797 480 t
10 B f
(The)720 840 w
10 CW f
(awk)912 840 w
10 B f
(of the future?)2 582 1 1117 840 t
10 R f
(It is entertaining to imagine a version of)7 1622 1 970 996 t
10 CW f
(awk)2621 996 w
10 R f
( as discussed)2 524( First,)1 263(that applies these ideas throughout.)4 1423 3 2830 996 t
( For)1 199( to the actions would be defined, rather than merely selected, by the patterns.)13 3196(earlier, the text passed)3 925 3 720 1116 t
(example,)720 1236 w
10 CW f
(/#+/ { print })3 840 1 1080 1416 t
10 R f
(would print only)2 667 1 720 1596 t
10 CW f
(#)1412 1596 w
10 R f
(characters; conventional)1 972 1 1497 1596 t
10 CW f
(awk)2494 1596 w
10 R f
(would instead print every line containing)5 1640 1 2699 1596 t
10 CW f
(#)4364 1596 w
10 R f
(characters.)4449 1596 w
( of using the restrictive idea of a)7 1317( Instead)1 342( parsed.)1 314(Next, the expressions would define how the input is)8 2097 4 970 1752 t
( instance, in)2 496( For)1 197( demarcate fields.)2 722(field separator, the iterations implied by closures in the expression can)10 2905 4 720 1872 t
(the program)1 485 1 720 1992 t
10 CW f
(/\(.+\\n\)+/ {)1 660 1 1080 2172 t
10 I f
(action)1800 2172 w
10 CW f
(})2110 2172 w
10 R f
( lines, but the outermost closure \(the)6 1481(the action sees groups of)4 999 2 720 2352 t
10 CW f
(+)3229 2352 w
10 R f
(operator\) examines, and hence can extract,)5 1722 1 3318 2352 t
(the individual lines.)2 802 1 720 2472 t
10 CW f
(ed)1577 2472 w
10 R f
( We)1 192( back\255referencing operators.)2 1128(uses parentheses to define sub\255expressions for its)6 1993 3 1727 2472 t
( to define the `fields' in)5 980(can modify this idea)3 834 2 720 2592 t
10 CW f
(awk)2567 2592 w
10 R f
(, so)1 147 1 2747 2592 t
10 CW f
($1)2927 2592 w
10 R f
(defines the first element of the closure \(the first)8 1960 1 3080 2592 t
(line\),)720 2712 w
10 CW f
($2)961 2712 w
10 R f
( arrays, so the)3 575( interestingly, the closures could generate indices for)7 2163( More)1 274(the second, and so on.)4 914 4 1114 2712 t
( say,)1 191(fields would be called,)3 925 2 720 2832 t
10 CW f
(input[1])1869 2832 w
10 R f
(and so on, perhaps with the unadorned identifier)7 1986 1 2382 2832 t
10 CW f
(input)4401 2832 w
10 R f
(holding)4734 2832 w
( generate multi\255dimensional)2 1163( has the advantage that nested closures can)7 1858( This)1 250(the original intact string.)3 1049 4 720 2952 t
( is some subtlety involving the relationship between)7 2192( \(There)1 331(arrays, which is notationally clean.)4 1456 3 720 3072 t
10 CW f
(input)4740 3072 w
10 R f
(indices and the order of the closures in the pattern, but the details are not important here.\))16 3571 1 720 3192 t
(Finally, as in)2 524 1 970 3348 t
10 CW f
(sam)1521 3348 w
10 R f
( expressions would be applicable to the output of structural expressions;)10 2910(, structural)1 429 2 1701 3348 t
( following program computes)3 1185( The)1 205( actions.)1 333(that is, we would be able to nest structural expressions inside the)11 2597 4 720 3468 t
(how many pages of articles Bimmler has written:)7 1967 1 720 3588 t
10 CW f
( break into records)3 1140(/\(.+\\n\)+/{ #)1 900 2 1080 3768 t
( is Bimmler author? \(see text\))5 1800( #)1 300(input ~ /%A.*Bimmler/{)2 1320 3 1330 3888 t
( extract page numbers)3 1260(/%P.*\([0\2559]+\)\255\([0\2559]+\)/{ #)1 1740 2 1580 4008 t
(pages+=input[2]\255input[1]+1)1830 4128 w
(})1580 4248 w
(})1330 4368 w
(})1080 4488 w
(END{)1080 4608 w
(print pages)1 660 1 1330 4728 t
(})1080 4848 w
10 R f
(Real)720 5028 w
10 CW f
(awk)935 5028 w
10 R f
( \(that is, regular expressions\) only like)6 1582(uses patterns)1 520 2 1147 5028 t
10 CW f
(sam)3282 5028 w
10 R f
('s)3462 5028 w
10 CW f
(g)3567 5028 w
10 R f
(command, but our)2 746 1 3660 5028 t
10 CW f
(awk)4439 5028 w
10 R f
('s patterns)1 421 1 4619 5028 t
(are)720 5148 w
10 CW f
(x)871 5148 w
10 R f
( is why in the pro\255)5 750( This)1 232( we need both to exploit structural expressions well.)8 2110(expressions. Obviously,)1 987 4 961 5148 t
(gram above the test for whether)5 1276 1 720 5268 t
10 CW f
(input)2024 5268 w
10 R f
(contains a paper by Bimmler must be written as an explicit pattern)11 2688 1 2352 5268 t
( separated by a dash, which is how)7 1393( innermost pattern searches for lines containing two numbers)8 2451(match. The)1 476 3 720 5388 t
10 CW f
(refer)720 5508 w
10 R f
(stores the starting and ending pages of the article.)8 1977 1 1045 5508 t
( real)1 178( The)1 209(This is a contrived example, of course, but it illustrates the basic ideas.)12 2875 3 970 5664 t
10 CW f
(awk)4261 5664 w
10 R f
(suffers from a)2 569 1 4471 5664 t
( making the parsing actions of the)6 1366( would be improved by)4 939( It)1 114(mismatch between the patterns and the actions.)6 1901 4 720 5784 t
( lan\255)1 185( A)1 127( pattern\255matching abilities available in the actions.)6 2047(patterns visible in the actions, and by having the)8 1961 4 720 5904 t
(guage with regular expressions should not base its text manipulation on a)11 2928 1 720 6024 t
10 CW f
(substr)3673 6024 w
10 R f
(function.)4058 6024 w
10 B f
(Comments)720 6264 w
10 R f
( is a powerful and convenient, if unfa\255)7 1545(The use of regular expressions to describe the structure of files)10 2525 2 970 6420 t
( current)1 308(miliar, way to address a number of difficulties the)8 2010 2 720 6540 t
9 R f
(UNIX)3062 6540 w
10 R f
( is obviously around this)4 988( There)1 283(tools share.)1 456 3 3313 6540 t
( all.)1 172(new notation a number of interesting problems, and I am not pretending to have addressed them)15 4148 2 720 6660 t
( the possibilities,)2 678(Rather, I have skipped enthusiastically from example to example to indicate the breadth of)13 3642 2 720 6780 t
( these ideas, and perhaps to)5 1117( hope is to encourage others to think about)8 1730( My)1 193(not the depth of the difficulties.)5 1280 4 720 6900 t
(apply them to old tools as well as new ones.)9 1760 1 720 7020 t
cleartomark
showpage
saveobj restore
%%EndPage: 6 6
%%Page: 7 7
/saveobj save def
mark
7 pagesetup
10 R f
(\255 7 \255)2 166 1 2797 480 t
10 B f
(Acknowledgements)720 840 w
10 R f
( some of their ideas)4 806(John Linderman, Chris Van Wyk, Tom Duff and Norman Wilson will recognize)11 3264 2 970 996 t
( hope I have not misrepresented them.)6 1522( I)1 83(in these notes.)2 569 3 720 1116 t
cleartomark
showpage
saveobj restore
%%EndPage: 7 7
%%Trailer
done
%%Pages: 7
%%DocumentFonts: Times-Roman Times-Bold Times-Italic Times-Roman Courier
